<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <title>Functions - Microcourses</title>
    <link href="../../stylesheets/all.css" media="screen, print" rel="stylesheet" type="text/css" />
    <script src="../../javascripts/all.js" type="text/javascript"></script>
  </head>

  <body class="course courses courses_functions courses_functions_index">
    <div class="container">
      <div class="course-header">
        <h2 class="course-title">
          Functions
        </h2>
        <a class="home-link" href="../../">Microcourses</a>
      </div>
      <div class="course-metadata">
        
          <div class="course-duration"><b>Duration:</b> 1 hour of mentoring</div>
        
        
          <div class="course-requirements"><b>Requirements:</b> pen and paper, ruby command</div>
        
        
          <div class="course-concepts"><b>Concepts:</b> function stack, stack depth, stack unwinding, local variable scope, backtrace</div>
        
      </div>

      <div class="course-body">
        <p>A function lets us <strong>reuse</strong> code. It is a set of instructions grouped together
and given a name that indicates its purpose so that you can use it later via
its name.</p>

<p>Although there are subtle differences in definitions, they are also known as
methods, procedures, routines, subprocedures and subroutines.</p>

<p>Functions match quite well with the idea of tasks and subtasks when you are
planning a holiday. Each task uses more specific tasks to get the whole job
done.</p>
<pre class="highlight ruby"><span class="c1"># a very simple ruby holiday</span>

<span class="k">def</span> <span class="nf">plan_holiday</span>
  <span class="n">book_flights</span>
  <span class="n">book_hotel</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">book_flights</span>
  <span class="n">pick_destination</span>
  <span class="n">buy_tickets</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">book_hotel</span>
  <span class="n">look_at_map</span>
  <span class="n">book_room</span>
<span class="k">end</span>
</pre>
<p>It is useful to understand what is going on by drawing the <strong>function stack</strong>.
The computer keeps track (in its memory) methodically of what it was doing so
that it can come back to it once it has finished with a subtask. Computer
scientists sometimes draw it just like a stack of plates that grows and
shrinks. In each case, the current task is the one on the top of the stack.</p>
<pre class="highlight plaintext">#######################################################################################

                                            +------------------+
                                            | pick_destination |
                      +------------------+  +------------------+  +------------------+
                      | book_flights     |  | book_flights     |  | book_flights     |
+------------------+  +------------------+  +------------------+  +------------------+
| plan_holiday     |  | plan_holiday     |  | plan_holiday     |  | plan_holiday     |
+------------------+  +------------------+  +------------------+  +------------------+
       t = 1                 t = 2                 t = 3                 t = 4

#######################################################################################

+------------------+
| buy_tickets      |
+------------------+  +------------------+                        +------------------+
| book_flights     |  | book_flights     |                        | book_hotel       |
+------------------+  +------------------+  +------------------+  +------------------+
| plan_holiday     |  | plan_holiday     |  | plan_holiday     |  | plan_holiday     |
+------------------+  +------------------+  +------------------+  +------------------+
       t = 5                 t = 6                 t = 7                 t = 8

#######################################################################################

+------------------+                        +------------------+
| look_at_map      |                        | book_room        |
+------------------+  +------------------+  +------------------+  +------------------+
| book_hotel       |  | book_hotel       |  | book_hotel       |  | book_hotel       |
+------------------+  +------------------+  +------------------+  +------------------+
| plan_holiday     |  | plan_holiday     |  | plan_holiday     |  | plan_holiday     |
+------------------+  +------------------+  +------------------+  +------------------+
      t = 9                 t = 10                t = 11                t = 12

#######################################################################################




+------------------+
| plan_holiday     |
+------------------+
      t = 13
</pre>
<h3>Exercise</h3>

<p>Change this code so that there are no duplicated sets of steps.</p>
<pre class="highlight ruby"><span class="c1"># TODO</span>
</pre>
      </div>

      
    </div>
    <script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-4659649-6', 'microcourses.info');
ga('send', 'pageview');
</script>

  </body>
</html>
